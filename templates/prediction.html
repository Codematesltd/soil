{% extends "base.html" %}

{% block title %}Soil Prediction | Agrivision{% endblock %}

{% block extra_css %}
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
    body { font-family: 'Inter', sans-serif; }
</style>
{% endblock %}

{% block content %}

<!-- Soil Classification Tool -->
<section class="bg-gray-50 py-20 px-6 md:px-20 pt-32">
    <h2 class="text-3xl font-bold text-center mb-2">Soil Classification Tool</h2>
    <p class="text-center text-gray-600 mb-10">Upload an image to analyze your soil type and fertility</p>
    <div class="grid md:grid-cols-2 gap-10 max-w-5xl mx-auto">
        <!-- Upload -->
        <div class="bg-white rounded-lg shadow p-8">
            <h3 class="text-xl font-bold mb-6">Upload Image</h3>
            <form method="post" enctype="multipart/form-data">
                <div class="border-2 border-dashed border-green-300 p-6 rounded text-center">
                    <div class="text-green-600 text-4xl mb-2">‚¨ÜÔ∏è</div>
                    <p class="text-sm text-gray-600 mb-4">Upload image of soil or land (jpg/png)</p>
                    <input type="file" name="image" class="mb-4" accept="image/*" required />
                    <button type="submit" class="w-full bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700 mt-2">Predict Soil Type</button>
                </div>
            </form>
            <p class="text-center text-sm text-gray-500 my-4">or</p>
            <button class="w-full bg-blue-600 text-white px-6 py-2 rounded mb-4 hover:bg-blue-700">üì∑ Capture with Camera</button>
        </div>
        <!-- Results -->
        <div class="bg-white rounded-lg shadow p-8 text-center">
            <h3 class="text-xl font-bold mb-6">Analysis Results</h3>
            <div class="border border-gray-300 p-8 rounded-lg">
                {% if prediction and image_url %}
                    <img src="/{{ image_url }}" alt="Uploaded Image" class="img-fluid mx-auto mb-4" style="max-height: 150px;">
                    <h5 class="text-lg font-semibold">Prediction: <span class="text-green-600">{{ prediction|capitalize }}</span></h5>
                {% else %}
                    <div class="text-4xl text-gray-400 mb-4">üñºÔ∏è</div>
                    <p class="text-gray-500">Upload an image to see results</p>
                {% endif %}
            </div>
        </div>
    </div>
</section>
{% endblock %}
